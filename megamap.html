big_map <- leaflet() %>%
  addProviderTiles(providers$CartoDB.PositronNoLabels, group = "No Labels")  %>%
  addTiles(group = "OSM (default)") %>%
  setView(lng = -119.7871, lat = 36.7378, zoom = 7) %>%
  addPolygons(data = urban_domestic_wells,
              weight = 1,
              stroke = FALSE, 
              smoothFactor = 0.2, 
              fillOpacity = 1,
              color = ~binpal(dwr_dm_),
              group = "Urban Wells") %>%
  addPolygons(data = CES_many_wells_urban,
              weight = 1, 
              stroke = FALSE, 
              smoothFactor = 0.2, 
              fillOpacity = 1,
              color = ~bin_ces(ciscorep),
              fillColor = ~bin_ces(ciscorep),
              group = "CES Urban Wells") %>%
  addPolygons(data = combined_risk,
              weight = 1, 
              stroke = FALSE, 
              smoothFactor = 0.2, 
              fillOpacity = 1,
              color = ~palrisk(crbin),
              fillColor = ~palrisk(crbin),
              group = "Combined Risk") %>%
  addLegend(position = "bottomright",
            values = urban_domestic_wells$dwr_dm_, # data frame column for legend
            opacity = .7, # alpha of the legend
            pal = binpal, # palette declared earlier
            title = "Number of Wells/PLSS Section") %>%
  addLegend(position = "bottomright",
            values = CES_many_wells_urban$ciscorep,
            opacity = .7,
            pal = bin_ces,
            title = "Cumulative Environmental Impact Score (Percentile)") %>%
  addLegend(position = "bottomleft",
            values = combined_risk$crbin,
            opacity = .7,
            pal = palrisk,
            title = "Combined Risk") %>%
  addLayersControl(
    baseGroups = c("No Labels", "OSM (default)"),
    overlayGroups = c("Urban Wells", "CES Urban Wells", "Combined Risk"),
    options = layersControlOptions(collapsed = FALSE)
  )

big_map
